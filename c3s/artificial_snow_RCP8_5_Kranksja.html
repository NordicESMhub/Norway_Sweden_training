<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,minimum-scale=1">

  <title>RATECE-PLANICA ski station (Slovenia) under CMIP-5 RCP 8.5 condition</title>
  <meta name="description" content="        RATECE-PLANICA ski station (Slovenia) under CMIP-5 RCP 8.5 condition    Welcome to the interactive Galaxy IPython Notebook. You can access your data ...">

  <link rel="canonical" href="http://nordicesmhub.github.io/Norway_Sweden_training/c3s/artificial_snow_RCP8_5_Kranksja.html">
  <link rel="alternate" type="application/rss+xml" title="Galaxy Climate Workbench" href="http://nordicesmhub.github.io/Norway_Sweden_training/feed.xml">

  <meta property="og:url"         content="http://nordicesmhub.github.io/Norway_Sweden_training/c3s/artificial_snow_RCP8_5_Kranksja.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="RATECE-PLANICA ski station (Slovenia) under CMIP-5 RCP 8.5 condition" />
<meta property="og:description" content="        RATECE-PLANICA ski station (Slovenia) under CMIP-5 RCP 8.5 condition    Welcome to the interactive Galaxy IPython Notebook. You can access your data ..." />
<meta property="og:image"       content="http://nordicesmhub.github.io/Norway_Sweden_training/images/logo/logo.png" />

<meta name="twitter:card" content="summary">


  <script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage": "http://nordicesmhub.github.io/Norway_Sweden_training/c3s/artificial_snow_RCP8_5_Kranksja.html",
  "headline": "RATECE-PLANICA ski station (Slovenia) under CMIP-5 RCP 8.5 condition",
  "datePublished": "2020-03-11T08:44:18+00:00",
  "dateModified": "2020-03-11T08:44:18+00:00",
  "description": "        RATECE-PLANICA ski station (Slovenia) under CMIP-5 RCP 8.5 condition    Welcome to the interactive Galaxy IPython Notebook. You can access your data ...",
  "author": {
    "@type": "Person",
    "name": "Anne Fouilloux"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Data 100 at UC Berkeley",
    "logo": {
      "@type": "ImageObject",
      "url": "http://nordicesmhub.github.io/Norway_Sweden_training",
      "width": 60,
      "height": 60
    }
  },
  "image": {
    "@type": "ImageObject",
    "url": "http://nordicesmhub.github.io/Norway_Sweden_training",
    "height": 60,
    "width": 60
  }
}

  </script>
  <link rel="stylesheet" href="/Norway_Sweden_training/assets/css/styles.css">

  <!-- <link rel="manifest" href="/manifest.json"> -->
  <!-- <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#efae0a"> -->
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">
  <meta name="theme-color" content="#233947">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="/Norway_Sweden_training/images/logo/favicon.ico">

  <!-- MathJax Config -->
  <!-- Allow inline math using $ and automatically break long math lines -->
<!-- (mostly) copied from nbconvert configuration -->
<!-- https://github.com/jupyter/nbconvert/blob/master/nbconvert/templates/html/mathjax.tpl -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    // Center justify equations in code and markdown cells. Elsewhere
    // we use CSS to left justify single line equations in code cells.
    displayAlign: 'center',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}},
        linebreaks: { automatic: true },
    },
    
});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML' async></script>


  <!-- DOM updating function -->
  <script src="/Norway_Sweden_training/assets/js/page/dom-update.js"></script>

  <!-- Selectors for elements on the page -->
  <script src="/Norway_Sweden_training/assets/js/page/documentSelectors.js"></script>

  <!-- Define some javascript variables that will be useful in other javascript -->
  <script>
    const site_basename = '/Norway_Sweden_training';
  </script>

  <!-- Add AnchorJS to let headers be linked -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js" async></script>
  <script src="/Norway_Sweden_training/assets/js/page/anchors.js" async></script>

  <!-- Include Turbolinks to make page loads fast -->
  <!-- https://github.com/turbolinks/turbolinks -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js" async></script>
  <meta name="turbolinks-cache-control" content="no-cache">

  <!-- Load nbinteract for widgets -->
  

  <!-- Load Thebelab for interactive widgets -->
  <!-- Include Thebelab for interactive code if it's enabled -->



  <!-- Load the auto-generating TOC (non-async otherwise the TOC won't load w/ turbolinks) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.8.1/tocbot.min.js" async></script>
  <script src="/Norway_Sweden_training/assets/js/page/tocbot.js"></script>

  <!-- Google analytics -->
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', '');
</script>



  <!-- Clipboard copy button -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script>

  <!-- Load custom website scripts -->
  <script src="/Norway_Sweden_training/assets/js/scripts.js" async></script>

  <!-- Load custom user CSS and JS  -->
  <script src="/Norway_Sweden_training/assets/custom/custom.js" async></script>
  <link rel="stylesheet" href="/Norway_Sweden_training/assets/custom/custom.css">

  <!-- Update interact links w/ REST param, is defined in includes so we can use templates -->
  

  <!-- Lunr search code - will only be executed on the /search page -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js" async></script>
  <script>var initQuery = function() {
  // See if we have a search box
  var searchInput = document.querySelector('input#lunr_search');
  if (searchInput === null) {
    return;
  }

  // Function to parse our lunr cache
  var idx = lunr(function () {
    this.field('title')
    this.field('excerpt')
    this.field('categories')
    this.field('tags')
    this.ref('id')

    this.pipeline.remove(lunr.trimmer)

    for (var item in store) {
      this.add({
        title: store[item].title,
        excerpt: store[item].excerpt,
        categories: store[item].categories,
        tags: store[item].tags,
        id: item
      })
    }
  });

  // Run search upon keyup
  searchInput.addEventListener('keyup', function () {
    var resultdiv = document.querySelector('#results');
    var query = document.querySelector("input#lunr_search").value.toLowerCase();
    var result =
      idx.query(function (q) {
        query.split(lunr.tokenizer.separator).forEach(function (term) {
          q.term(term, { boost: 100 })
          if(query.lastIndexOf(" ") != query.length-1){
            q.term(term, {  usePipeline: false, wildcard: lunr.Query.wildcard.TRAILING, boost: 10 })
          }
          if (term != ""){
            q.term(term, {  usePipeline: false, editDistance: 1, boost: 1 })
          }
        })
      });

      // Empty the results div
      while (resultdiv.firstChild) {
        resultdiv.removeChild(resultdiv.firstChild);
      }

    resultdiv.insertAdjacentHTML('afterbegin', '<p class="results__found">'+result.length+' Result(s) found</p>');
    for (var item in result) {
      var ref = result[item].ref;
      if(store[ref].teaser){
        var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<div class="archive__item-teaser">'+
                '<img src="'+store[ref].teaser+'" alt="">'+
              '</div>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      else{
    	  var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      resultdiv.insertAdjacentHTML('beforeend', searchitem);
    }
  });
};

initFunction(initQuery);
</script>

  <!-- Load JS that depends on site variables -->
  <script src="/Norway_Sweden_training/assets/js/page/copy-button.js" async></script>

  <!-- Hide cell code -->
  <script src="/Norway_Sweden_training/assets/js/page/hide-cell.js" async></script>

  <!-- Printing the screen -->
  <!-- Include nbinteract for interactive widgets -->
<script src="https://printjs-4de6.kxcdn.com/print.min.js" async></script>
<script>
printContent = () => {
    // MathJax displays a second version of any math for assistive devices etc.
    // This prevents double-rendering in the PDF output.
    var ignoreAssistList = [];
    assistives = document.querySelectorAll('.MathJax_Display span.MJX_Assistive_MathML').forEach((element, index) => {
        var thisId = 'MathJax-assistive-' + index.toString();
        element.setAttribute('id', thisId);
        ignoreAssistList.push(thisId)
    });

    // Print the actual content object
    printJS({
        printable: 'textbook_content',
        type: 'html',
        css: "/Norway_Sweden_training/assets/css/styles.css",
        style: "#textbook_content {padding-top: 40px};",
        scanStyles: false,
        targetStyles: ["*"],
        ignoreElements: ignoreAssistList,
        documentTitle: "Made with Jupyter Book"
    })
};

initPrint = () => {
    document.querySelector('#interact-button-print').addEventListener('click', printContent)
}

initFunction(initPrint)
</script>

</head>

  <body>
    <!-- Include the ThebeLab config so it gets reloaded on each page -->
    <script type="text/x-thebe-config">{
    requestKernel: true,
    binderOptions: {
    repo: "YOUR-ORG/YOUR-REPO",
    ref: "gh-pages",
    },
    codeMirrorConfig: {
    theme: "abcdef",
    mode: "python"
    },
    kernelOptions: {
    kernelName: "python3",
    path: "content/c3s"
    }
}
</script>

    <!-- .js-show-sidebar shows sidebar by default -->
    <div id="js-textbook" class="c-textbook js-show-sidebar">
      



<nav id="js-sidebar" class="c-textbook__sidebar">
  <a href="https://training.galaxyproject.org/"><img src="/Norway_Sweden_training/images/logo/logo.png" class="textbook_logo" id="sidebar-logo" alt="textbook logo" data-turbolinks-permanent/></a>
  <h2 class="c-sidebar__title">Galaxy Climate Workbench</h2>
  <ul class="c-sidebar__chapters">
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/intro">
        <a class="c-sidebar__entry"
          href="/Norway_Sweden_training/intro.html"
        >
          
          Home
        </a>
      </li>

      
      

      

      
      

      

      
    
      
      
        <li><h2 class="c-sidebar__title">C3S & Galaxy Training</li>
        
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/c3s/intro">
        <a class="c-sidebar__entry"
          href="/Norway_Sweden_training/c3s/intro.html"
        >
          
          How to use climate data for Olive farming in Andalusia
        </a>
      </li>

      
      

      

      
      

      
        

        

        <ul class="c-sidebar__sections u-hidden-visually">
          
            
            

            
            
            
            

            <li class="c-sidebar__section" data-url="/c3s/OliveGroveTemperatureERA5">
              <a class="c-sidebar__entry"
                href="/Norway_Sweden_training/c3s/OliveGroveTemperatureERA5.html"
              >
                
                Juan's olive grove - temperature
              </a>
            </li>
            
            
          
            
            

            
            
            
            

            <li class="c-sidebar__section" data-url="/c3s/OliveGrovePrecipitationERA5">
              <a class="c-sidebar__entry"
                href="/Norway_Sweden_training/c3s/OliveGrovePrecipitationERA5.html"
              >
                
                Farmer Carlos' olive grove - precipitation
              </a>
            </li>
            
            
          
        </ul>
      

      
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/c3s/alps">
        <a class="c-sidebar__entry"
          href="/Norway_Sweden_training/c3s/alps.html"
        >
          
          The alps a dying ski tourism station
        </a>
      </li>

      
      

      

      
      

      
        

        

        <ul class="c-sidebar__sections u-hidden-visually">
          
            
            

            
            
            
            

            <li class="c-sidebar__section" data-url="/c3s/artificial_snow_RCP8_5_Kranksja">
              <a class="c-sidebar__entry"
                href="/Norway_Sweden_training/c3s/artificial_snow_RCP8_5_Kranksja.html"
              >
                
                RATECE-PLANICA ski station (Slovenia) under CMIP-5 RCP 8.5 condition
              </a>
            </li>
            
            
          
            
            

            
            
            
            

            <li class="c-sidebar__section" data-url="/c3s/artificial_snow_cmpi6_ssp585_Kranksja">
              <a class="c-sidebar__entry"
                href="/Norway_Sweden_training/c3s/artificial_snow_cmpi6_ssp585_Kranksja.html"
              >
                
                RATECE-PLANICA ski station (Slovenia) under CMIP-6 SSP585 conditio
              </a>
            </li>
            
            
          
        </ul>
      

      
    
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="/pangeo/intro">
        <a class="c-sidebar__entry"
          href="/Norway_Sweden_training/pangeo/intro.html"
        >
          
          Pangeo
        </a>
      </li>

      
      

      

      
      

      
        

        

        <ul class="c-sidebar__sections u-hidden-visually">
          
            
            

            
            
            
            

            <li class="c-sidebar__section" data-url="/pangeo/basic_search_and_load">
              <a class="c-sidebar__entry"
                href="/Norway_Sweden_training/pangeo/basic_search_and_load.html"
              >
                
                Basic search and load
              </a>
            </li>
            
            
          
            
            

            
            
            
            

            <li class="c-sidebar__section" data-url="/pangeo/intake_ESM_example">
              <a class="c-sidebar__entry"
                href="/Norway_Sweden_training/pangeo/intake_ESM_example.html"
              >
                
                Intake ESM example
              </a>
            </li>
            
            
          
            
            

            
            
            
            

            <li class="c-sidebar__section" data-url="/pangeo/landsat8-cog-ndvi_galaxy">
              <a class="c-sidebar__entry"
                href="/Norway_Sweden_training/pangeo/landsat8-cog-ndvi_galaxy.html"
              >
                
                Landsat 8 NDVI Analysis on the Cloud
              </a>
            </li>
            
            
          
        </ul>
      

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      

      
      
      
      

      
      
      <li class="c-sidebar__chapter" data-url="https://github.com/NordicESMHub/Norway_Sweden_training">
        <a class="c-sidebar__entry"
          href="https://github.com/NordicESMHub/Norway_Sweden_training"
        >
          
          GitHub repository
        </a>
      </li>

      
      

      

      
      

      

      
    
  </ul>
  <p class="sidebar_footer">Powered by <a href="https://jupyterbook.org">Jupyter Book</a></p>
</nav>

      
      <div class="c-topbar" id="top-navbar">
  <!-- We show the sidebar by default so we use .is-active -->
  <div class="c-topbar__buttons">
    <button
      id="js-sidebar-toggle"
      class="hamburger hamburger--arrowalt is-active"
    >
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
    </button>
    <div class="buttons">
<div class="download-buttons-dropdown">
    <button id="dropdown-button-trigger" class="interact-button"><img src="/Norway_Sweden_training/assets/images/download-solid.svg" alt="Download" /></button>
    <div class="download-buttons">
        <a href="/Norway_Sweden_training/content/c3s/artificial_snow_RCP8_5_Kranksja.ipynb" download>
        <button id="interact-button-download" class="interact-button">.ipynb</button>
        </a>
        
        <a id="interact-button-print"><button id="interact-button-download" class="interact-button">.pdf</button></a>
    </div>
</div>


  
  
  
  


</div>

  </div>
  <!-- Empty sidebar placeholder that we'll auto-fill with javascript -->
  <aside class="sidebar__right">
    <header><h4 class="nav__title"><img src="/Norway_Sweden_training/assets/images/list-solid.svg" alt="Search" />   On this page</h4></header>
    <nav class="onthispage">
    </nav>
  </aside>
  <a href="/Norway_Sweden_training/search.html" class="topbar-right-button" id="search-button">
    <img src="/Norway_Sweden_training/assets/images/search-solid.svg" alt="Search" />
  </a>
</div>

      <main class="c-textbook__page" tabindex="-1">
            <div class="c-textbook__content" id="textbook_content">
                  <main class="jupyter-page">
    <div id="page-info"><div id="page-title">RATECE-PLANICA ski station (Slovenia) under CMIP-5 RCP 8.5 condition</div>
</div>
    <div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Welcome-to-the-interactive-Galaxy-IPython-Notebook.">Welcome to the interactive Galaxy IPython Notebook.<a class="anchor-link" href="#Welcome-to-the-interactive-Galaxy-IPython-Notebook."> </a></h1>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can access your data via the dataset number. Using a Python kernel, you can access dataset number 42 with <code>handle = open(get(42), 'r')</code>.
To save data, write your data to a file, and then call <code>put('filename.txt')</code>. The dataset will then be available in your galaxy history.
<br>When using a non-Python kernel, <code>get</code> and <code>put</code> are available as command-line tools, which can be accessed using system calls in R, Julia, and Ruby. For example, to read dataset number 42 into R, you can write <code>handle &lt;- file(system('get -i 42', intern = TRUE))</code>.
To save data in R, write the data to a file and then call <code>system('put -p filename.txt')</code>.
Notebooks can be saved to Galaxy by clicking the large green button at the top right of the IPython interface.<br>
More help and informations can be found on the project <a href="https://github.com/bgruening/docker-jupyter-notebook">website</a>.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="RATECE-PLANICA-ski-station-(Slovenia)-under-RCP-8.5-condition">RATECE-PLANICA ski station (Slovenia) under RCP 8.5 condition<a class="anchor-link" href="#RATECE-PLANICA-ski-station-(Slovenia)-under-RCP-8.5-condition"> </a></h1><h2 id="Is-it-worth-investing-in-artificial-snowmaking-equipment-at-RATECE-PLANICA?">Is it worth investing in artificial snowmaking equipment at RATECE-PLANICA?<a class="anchor-link" href="#Is-it-worth-investing-in-artificial-snowmaking-equipment-at-RATECE-PLANICA?"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">cartopy.crs</span> <span class="k">as</span> <span class="nn">ccrs</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">cftime</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">cdsapi</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Adding-your-CDS-API-key">Adding your CDS API key<a class="anchor-link" href="#Adding-your-CDS-API-key"> </a></h2><ul>
<li>Login to <a href="https://cds.climate.copernicus.eu/">cds</a></li>
<li>Visit page <a href="https://cds.climate.copernicus.eu/api-how-to#install-the-cds-api-key">How to install the cds api key</a></li>
<li>Start a <a href="https://jupyterlab.readthedocs.io/en/stable/user/terminal.html">new Terminal Session</a></li>
<li>Use <code>nano</code> to edit your cds api:</li>
</ul>

<pre><code>nano $HOME/.cdsapirc</code></pre>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Step-1-:-Get-data-for-bias-correction">Step-1 : Get data for bias correction<a class="anchor-link" href="#Step-1-:-Get-data-for-bias-correction"> </a></h1><h2 id="MPI-ESM-LR-daily-temperature-from-1960-to-end-2005">MPI-ESM-LR daily temperature from 1960 to end 2005<a class="anchor-link" href="#MPI-ESM-LR-daily-temperature-from-1960-to-end-2005"> </a></h2><h3 id="Get-MPI-ESM-LR-2m-temperature-data">Get MPI-ESM-LR 2m temperature data<a class="anchor-link" href="#Get-MPI-ESM-LR-2m-temperature-data"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">cdsapi</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span>
    <span class="s1">&#39;projections-cmip5-daily-single-levels&#39;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s1">&#39;ensemble_member&#39;</span><span class="p">:</span> <span class="s1">&#39;r1i1p1&#39;</span><span class="p">,</span>
        <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;zip&#39;</span><span class="p">,</span>
        <span class="s1">&#39;experiment&#39;</span><span class="p">:</span> <span class="s1">&#39;historical&#39;</span><span class="p">,</span>
        <span class="s1">&#39;variable&#39;</span><span class="p">:</span> <span class="s1">&#39;2m_temperature&#39;</span><span class="p">,</span> 
        <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;mpi_esm_lr&#39;</span><span class="p">,</span>
        <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">&#39;19600101-19691231&#39;</span><span class="p">,</span> <span class="s1">&#39;19700101-19791231&#39;</span><span class="p">,</span> <span class="s1">&#39;19800101-19891231&#39;</span><span class="p">,</span>
            <span class="s1">&#39;19900101-19991231&#39;</span><span class="p">,</span> <span class="s1">&#39;20000101-20051231&#39;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">},</span>
    <span class="s1">&#39;cmip5_mpi_esm_lr_daily_t2m.zip&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Save data into Galaxy history</span>
<span class="o">!</span>put -p cmip5_mpi_esm_lr_daily_t2m.zip -t zip
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>mkdir -p mpi_daily_h
<span class="o">!</span><span class="nb">cd</span> mpi_daily_h <span class="o">&amp;&amp;</span> unzip ../cmip5_mpi_esm_lr_daily_t2m.zip
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Compute-2-m-temperature-mean-and-standard-deviation">Compute 2 m temperature mean and standard deviation<a class="anchor-link" href="#Compute-2-m-temperature-mean-and-standard-deviation"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">filenames</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;mpi_daily_h/tas_*_MPI-ESM-LR_*.nc&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">filenames</span><span class="p">)</span>
<span class="n">dset</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">filenames</span><span class="p">,</span> <span class="n">decode_times</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_cftime</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;by_coords&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dset</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Get-data-over-Kranjska-Gora-station-(1961-2005)">Get data over Kranjska Gora station (1961-2005)<a class="anchor-link" href="#Get-data-over-Kranjska-Gora-station-(1961-2005)"> </a></h1><ul>
<li>Select nearest grid point to Kranjska Gora station (46.5°N, 13.8°E, 800 m a.s.l.)</li>
<li>time between 1961 and 2005.</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">dset</span><span class="p">[</span><span class="s1">&#39;tas&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;1961-01-01&#39;</span><span class="p">:</span><span class="s1">&#39;2005-12-31&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">46.5</span><span class="p">,</span><span class="n">lon</span><span class="o">=</span><span class="mf">13.8</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Compute-mean-and-standard-deviation">Compute mean and standard deviation<a class="anchor-link" href="#Compute-mean-and-standard-deviation"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mean_mpi_1961_2005</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
<span class="n">std_mpi_1961_2005</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mean_mpi_1961_2005</span><span class="p">,</span> <span class="n">std_mpi_1961_2005</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Time-series---daily-RATECE-PLANICA-average-temperature">Time series - daily RATECE-PLANICA average temperature<a class="anchor-link" href="#Time-series---daily-RATECE-PLANICA-average-temperature"> </a></h1><ul>
<li>coordinates: 46.50N, 13.70E, 864.0m</li>
<li>GHCN-D station code: SIE00115206 RATECE-PLANICA Slovenia</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>wget http://berkeleyearth.lbl.gov/auto/Stations/TAVG/Text/22498-TAVG-Data.txt
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Save data into Galaxy history</span>
<span class="o">!</span>put -p <span class="m">22498</span>-TAVG-Data.txt -t txt
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Read-timeseries-with-pandas">Read timeseries with pandas<a class="anchor-link" href="#Read-timeseries-with-pandas"> </a></h1>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;22498-TAVG-Data.txt&#39;</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;\s+&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="s1">&#39;%&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mean_st_1961_2005</span> <span class="o">=</span> <span class="n">data</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1961</span> <span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">2005</span><span class="p">)][</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">std_st_1961_2005</span> <span class="o">=</span> <span class="n">data</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1961</span> <span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">2005</span><span class="p">)][</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mean_st_1961_2005</span> <span class="o">+</span> <span class="mf">273.15</span><span class="p">,</span> <span class="n">std_st_1961_2005</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dset</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>We now have mean temperature and standard deviation for both MPI-ESM-LR historical and RATECE-PLANICA Slovenia meteorological station. These values will be used for our bias correction</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Step-2:-Model-data-historical-1961---2005">Step-2: Model data historical 1961 - 2005<a class="anchor-link" href="#Step-2:-Model-data-historical-1961---2005"> </a></h1><ul>
<li>'maximum_2m_temperature_in_the_last_24_hours'</li>
<li>'minimum_2m_temperature_in_the_last_24_hours'</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span>
    <span class="s1">&#39;projections-cmip5-daily-single-levels&#39;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s1">&#39;ensemble_member&#39;</span><span class="p">:</span> <span class="s1">&#39;r1i1p1&#39;</span><span class="p">,</span>
        <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;zip&#39;</span><span class="p">,</span>
        <span class="s1">&#39;experiment&#39;</span><span class="p">:</span> <span class="s1">&#39;historical&#39;</span><span class="p">,</span>
        <span class="s1">&#39;variable&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">&#39;maximum_2m_temperature_in_the_last_24_hours&#39;</span><span class="p">,</span> <span class="s1">&#39;minimum_2m_temperature_in_the_last_24_hours&#39;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;mpi_esm_lr&#39;</span><span class="p">,</span>
        <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">&#39;19600101-19691231&#39;</span><span class="p">,</span> <span class="s1">&#39;19700101-19791231&#39;</span><span class="p">,</span> <span class="s1">&#39;19800101-19891231&#39;</span><span class="p">,</span>
            <span class="s1">&#39;19900101-19991231&#39;</span><span class="p">,</span> <span class="s1">&#39;20000101-20051231&#39;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">},</span>
    <span class="s1">&#39;cmip5_mpi_esm_lr_daily_tasmin_tasmax.zip&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Save data into Galaxy history</span>
<span class="o">!</span>put -p cmip5_mpi_esm_lr_daily_tasmin_tasmax.zip -t zip
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>mkdir -p mpi_daily_h
<span class="o">!</span><span class="nb">cd</span> mpi_daily_h <span class="o">&amp;&amp;</span> unzip ../cmip5_mpi_esm_lr_daily_tasmin_tasmax.zip <span class="o">&amp;&amp;</span> rm ../cmip5_mpi_esm_lr_daily_tasmin_tasmax.zip
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Apply-bias-correction-to-historical-t2-min-and-t2-max-1961-2005">Apply bias correction to historical t2 min and t2 max 1961-2005<a class="anchor-link" href="#Apply-bias-correction-to-historical-t2-min-and-t2-max-1961-2005"> </a></h1>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">filenames</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;mpi_daily_h/tas*_MPI-ESM-LR_*.nc&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">filenames</span><span class="p">)</span>
<span class="n">dset_hist</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">filenames</span><span class="p">,</span> <span class="n">decode_times</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_cftime</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;by_coords&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Apply-bias-correction-to-tasmin">Apply bias correction to tasmin<a class="anchor-link" href="#Apply-bias-correction-to-tasmin"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">dset_hist</span><span class="p">[</span><span class="s1">&#39;tasmin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;1961-01-01&#39;</span><span class="p">:</span><span class="s1">&#39;2005-12-31&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">46.5</span><span class="p">,</span><span class="n">lon</span><span class="o">=</span><span class="mf">13.8</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">)</span>
<span class="n">t2min_h_bias_corrected</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span> <span class="o">-</span> <span class="n">mean_mpi_1961_2005</span><span class="p">)</span><span class="o">/</span><span class="n">std_mpi_1961_2005</span> <span class="o">*</span> <span class="n">std_st_1961_2005</span> <span class="o">+</span> <span class="n">mean_st_1961_2005</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Apply-bias-correction-to-tasmax">Apply bias correction to tasmax<a class="anchor-link" href="#Apply-bias-correction-to-tasmax"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">dset_hist</span><span class="p">[</span><span class="s1">&#39;tasmax&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;1961-01-01&#39;</span><span class="p">:</span><span class="s1">&#39;2005-12-31&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">46.5</span><span class="p">,</span><span class="n">lon</span><span class="o">=</span><span class="mf">13.8</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">)</span>
<span class="n">t2max_h_bias_corrected</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span> <span class="o">-</span> <span class="n">mean_mpi_1961_2005</span><span class="p">)</span><span class="o">/</span><span class="n">std_mpi_1961_2005</span> <span class="o">*</span> <span class="n">std_st_1961_2005</span> <span class="o">+</span> <span class="n">mean_st_1961_2005</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Select-a-year-and-make-a-plot">Select a year and make a plot<a class="anchor-link" href="#Select-a-year-and-make-a-plot"> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t2max_h_bias_corrected</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="n">t2max_h_bias_corrected</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">1970</span><span class="p">,</span> <span class="mi">1970</span><span class="p">]))</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">t2min_h_bias_corrected</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span> <span class="o">=</span> <span class="n">t2min_h_bias_corrected</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">1970</span><span class="p">,</span> <span class="mi">1970</span><span class="p">]))</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Step-3:-Model-data-projection-2040---2100-RCP-8.5">Step-3: Model data projection 2040 - 2100 RCP 8.5<a class="anchor-link" href="#Step-3:-Model-data-projection-2040---2100-RCP-8.5"> </a></h1><ul>
<li>'maximum_2m_temperature_in_the_last_24_hours'</li>
<li>'minimum_2m_temperature_in_the_last_24_hours'</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span>
    <span class="s1">&#39;projections-cmip5-daily-single-levels&#39;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s1">&#39;ensemble_member&#39;</span><span class="p">:</span> <span class="s1">&#39;r1i1p1&#39;</span><span class="p">,</span>
        <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;zip&#39;</span><span class="p">,</span>
        <span class="s1">&#39;experiment&#39;</span><span class="p">:</span> <span class="s1">&#39;rcp_8_5&#39;</span><span class="p">,</span>
        <span class="s1">&#39;variable&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">&#39;maximum_2m_temperature_in_the_last_24_hours&#39;</span><span class="p">,</span> <span class="s1">&#39;minimum_2m_temperature_in_the_last_24_hours&#39;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s1">&#39;area&#39;</span> <span class="p">:</span> <span class="s2">&quot;47.5/12/44.5/14&quot;</span><span class="p">,</span> <span class="c1">#N/W/S/E</span>
        <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;mpi_esm_lr&#39;</span><span class="p">,</span>
        <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">&#39;20400101-20491231&#39;</span><span class="p">,</span> <span class="s1">&#39;20500101-20591231&#39;</span><span class="p">,</span> <span class="s1">&#39;20600101-20691231&#39;</span><span class="p">,</span>
            <span class="s1">&#39;20700101-20791231&#39;</span><span class="p">,</span> <span class="s1">&#39;20800101-20891231&#39;</span><span class="p">,</span> <span class="s1">&#39;20900101-21001231&#39;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">},</span>
    <span class="s1">&#39;cmip5_mpi_esm_lr_daily_tasmin_tasmax_proj.zip&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>mkdir -p mpi_daily_p
<span class="o">!</span><span class="nb">cd</span> mpi_daily_p <span class="o">&amp;&amp;</span> unzip ../cmip5_mpi_esm_lr_daily_tasmin_tasmax_proj.zip <span class="o">&amp;&amp;</span> rm ../cmip5_mpi_esm_lr_daily_tasmin_tasmax_proj.zip
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
 bunzipping: tasmin_day_MPI-ESM-LR_rcp85_r1i1p1_20800101-20891231.nc  
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">filenames</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;mpi_daily_p/tas*_MPI-ESM-LR_*.nc&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">filenames</span><span class="p">)</span>
<span class="n">dset_p</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">filenames</span><span class="p">,</span> <span class="n">decode_times</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_cftime</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">combine</span><span class="o">=</span><span class="s1">&#39;by_coords&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;mpi_daily_p/tasmax_day_MPI-ESM-LR_rcp85_r1i1p1_20500101-20591231.nc&#39;, &#39;mpi_daily_p/tasmin_day_MPI-ESM-LR_rcp85_r1i1p1_20500101-20591231.nc&#39;, &#39;mpi_daily_p/tasmin_day_MPI-ESM-LR_rcp85_r1i1p1_20800101-20891231.nc&#39;, &#39;mpi_daily_p/tasmin_day_MPI-ESM-LR_rcp85_r1i1p1_20900101-21001231.nc&#39;, &#39;mpi_daily_p/tasmax_day_MPI-ESM-LR_rcp85_r1i1p1_20400101-20491231.nc&#39;, &#39;mpi_daily_p/tasmin_day_MPI-ESM-LR_rcp85_r1i1p1_20600101-20691231.nc&#39;, &#39;mpi_daily_p/tasmin_day_MPI-ESM-LR_rcp85_r1i1p1_20700101-20791231.nc&#39;, &#39;mpi_daily_p/tasmax_day_MPI-ESM-LR_rcp85_r1i1p1_20800101-20891231.nc&#39;, &#39;mpi_daily_p/tasmax_day_MPI-ESM-LR_rcp85_r1i1p1_20600101-20691231.nc&#39;, &#39;mpi_daily_p/tasmin_day_MPI-ESM-LR_rcp85_r1i1p1_20400101-20491231.nc&#39;, &#39;mpi_daily_p/tasmax_day_MPI-ESM-LR_rcp85_r1i1p1_20900101-21001231.nc&#39;, &#39;mpi_daily_p/tasmax_day_MPI-ESM-LR_rcp85_r1i1p1_20700101-20791231.nc&#39;]
</pre>
</div>
</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Apply-bias-correction-to-tasmin-for-projection-MPI-ESM-LR-RCP-8.5">Apply bias correction to tasmin for projection MPI-ESM-LR RCP 8.5<a class="anchor-link" href="#Apply-bias-correction-to-tasmin-for-projection-MPI-ESM-LR-RCP-8.5"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">dset_p</span><span class="p">[</span><span class="s1">&#39;tasmin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2040-01-01&#39;</span><span class="p">:</span><span class="s1">&#39;2100-12-31&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">46.5</span><span class="p">,</span><span class="n">lon</span><span class="o">=</span><span class="mf">13.8</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">)</span>
<span class="n">t2min_p_bias_corrected</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span> <span class="o">-</span> <span class="n">mean_mpi_1961_2005</span><span class="p">)</span><span class="o">/</span><span class="n">std_mpi_1961_2005</span> <span class="o">*</span> <span class="n">std_st_1961_2005</span> <span class="o">+</span> <span class="n">mean_st_1961_2005</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Apply-bias-correction-to-tasmax-for-projection-MPI-ESM-LR-RCP-8.5">Apply bias correction to tasmax for projection MPI-ESM-LR RCP 8.5<a class="anchor-link" href="#Apply-bias-correction-to-tasmax-for-projection-MPI-ESM-LR-RCP-8.5"> </a></h2>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">dset_p</span><span class="p">[</span><span class="s1">&#39;tasmax&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2040-01-01&#39;</span><span class="p">:</span><span class="s1">&#39;2100-12-31&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">46.5</span><span class="p">,</span><span class="n">lon</span><span class="o">=</span><span class="mf">13.8</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;nearest&quot;</span><span class="p">)</span>
<span class="n">t2max_p_bias_corrected</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span> <span class="o">-</span> <span class="n">mean_mpi_1961_2005</span><span class="p">)</span><span class="o">/</span><span class="n">std_mpi_1961_2005</span> <span class="o">*</span> <span class="n">std_st_1961_2005</span> <span class="o">+</span> <span class="n">mean_st_1961_2005</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Step-4:-Favourable-conditions-to-produce-artificial-snow">Step-4: Favourable conditions to produce artificial snow<a class="anchor-link" href="#Step-4:-Favourable-conditions-to-produce-artificial-snow"> </a></h1><ul>
<li>daily minimum temperature below 0 °C </li>
<li>daily maximum temperature not above 3 °C</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Favourable-conditions-to-produce-artificial-snow-for-period-1961---2005">Favourable conditions to produce artificial snow for period 1961 - 2005<a class="anchor-link" href="#Favourable-conditions-to-produce-artificial-snow-for-period-1961---2005"> </a></h2><ul>
<li>t2min_h_bias_corrected &lt; 0</li>
<li>t2max_h_bias_corrected &lt;= 3</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nb_favourable_h</span> <span class="o">=</span> <span class="n">t2min_h_bias_corrected</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">t2min_h_bias_corrected</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">t2max_h_bias_corrected</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;time.year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nb_favourable_h</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<pre>&lt;xarray.DataArray &#x27;tasmin&#x27; (year: 45)&gt;
dask.array&lt;stack, shape=(45,), dtype=int64, chunksize=(1,), chunktype=numpy.ndarray&gt;
Coordinates:
    height   float64 2.0
    lon      float64 13.12
    lat      float64 45.7
  * year     (year) int64 1961 1962 1963 1964 1965 ... 2001 2002 2003 2004 2005</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Favourable-conditions-to-produce-artificial-snow-for-period-2040---2100">Favourable conditions to produce artificial snow for period 2040 - 2100<a class="anchor-link" href="#Favourable-conditions-to-produce-artificial-snow-for-period-2040---2100"> </a></h2><ul>
<li>t2min_p_bias_corrected &lt; 0</li>
<li>t2max_p_bias_corrected &lt;= 3</li>
</ul>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nb_favourable_p</span> <span class="o">=</span> <span class="n">t2min_p_bias_corrected</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">t2min_p_bias_corrected</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">t2max_p_bias_corrected</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;time.year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nb_favourable_p</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<pre>&lt;xarray.DataArray &#x27;tasmin&#x27; (year: 61)&gt;
dask.array&lt;stack, shape=(61,), dtype=int64, chunksize=(1,), chunktype=numpy.ndarray&gt;
Coordinates:
    height   float64 2.0
    lon      float64 13.12
    lat      float64 45.7
  * year     (year) int64 2040 2041 2042 2043 2044 ... 2096 2097 2098 2099 2100</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nb_favourable</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">merge</span><span class="p">([</span><span class="n">nb_favourable_h</span><span class="p">,</span> <span class="n">nb_favourable_p</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nb_favourable</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<pre>&lt;xarray.Dataset&gt;
Dimensions:  (year: 106)
Coordinates:
  * year     (year) int64 1961 1962 1963 1964 1965 ... 2096 2097 2098 2099 2100
    height   float64 2.0
    lon      float64 13.12
    lat      float64 45.7
Data variables:
    tasmin   (year) float64 dask.array&lt;chunksize=(46,), meta=np.ndarray&gt;</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">series</span> <span class="o">=</span> <span class="n">nb_favourable</span><span class="o">.</span><span class="n">tasmin</span><span class="o">.</span><span class="n">to_series</span><span class="p">()</span>
<span class="n">series</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">series</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>  <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">series</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>year
1961-01-01    76.0
1962-01-01    68.0
1963-01-01    67.0
1964-01-01    34.0
1965-01-01    62.0
Name: tasmin, dtype: float64</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Remove-years-to-have-full-decades-starting-from-1961-1970,-...">Remove years to have full decades starting from 1961-1970, ...<a class="anchor-link" href="#Remove-years-to-have-full-decades-starting-from-1961-1970,-..."> </a></h3>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">series</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">series</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">year</span> <span class="o">&gt;</span> <span class="mi">2000</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">series</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">year</span> <span class="o">&lt;=</span> <span class="mi">2005</span><span class="p">)]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">series</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">series</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="mi">2040</span><span class="p">)]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">series</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>year
1961-01-01    76.0
1962-01-01    68.0
1963-01-01    67.0
1964-01-01    34.0
1965-01-01    62.0
1966-01-01    73.0
1967-01-01    81.0
1968-01-01    57.0
1969-01-01    65.0
1970-01-01    70.0
1971-01-01    70.0
1972-01-01    56.0
1973-01-01    50.0
1974-01-01    53.0
1975-01-01    74.0
1976-01-01    68.0
1977-01-01    67.0
1978-01-01    77.0
1979-01-01    54.0
1980-01-01    32.0
1981-01-01    42.0
1982-01-01    39.0
1983-01-01    44.0
1984-01-01    68.0
1985-01-01    37.0
1986-01-01    43.0
1987-01-01    39.0
1988-01-01    45.0
1989-01-01    45.0
1990-01-01    50.0
1991-01-01    65.0
1992-01-01    45.0
1993-01-01    60.0
1994-01-01    46.0
1995-01-01    41.0
1996-01-01    67.0
1997-01-01    62.0
1998-01-01    27.0
1999-01-01    53.0
2000-01-01    32.0
2001-01-01     NaN
2002-01-01     NaN
2003-01-01     NaN
2004-01-01     NaN
2005-01-01     NaN
2040-01-01     NaN
2041-01-01    43.0
2042-01-01    41.0
2043-01-01    31.0
2044-01-01    26.0
Name: tasmin, dtype: float64</pre>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Step-5:-Plotting-(group-per-decades)">Step-5: Plotting (group per decades)<a class="anchor-link" href="#Step-5:-Plotting-(group-per-decades)"> </a></h1>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">series10YS</span> <span class="o">=</span> <span class="n">series</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Grouper</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="s1">&#39;10YS&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>
<span class="kn">from</span> <span class="nn">dateutil.relativedelta</span> <span class="kn">import</span> <span class="n">relativedelta</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">series10YS</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">get_text</span><span class="p">(),</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> 
            <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span> <span class="p">,</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span> <span class="o">+</span>  <span class="n">relativedelta</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="mi">9</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y&quot;</span><span class="p">)</span>  <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">()]</span> 
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Decade&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Average number of favourable days per year</span><span class="se">\n</span><span class="s1"> for the production of artifical snow&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;RATECE-PLANICA ski station (Slovenia) </span><span class="se">\n</span><span class="s2"> A dying ski tourism destination under RCP 8.5&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Text(0.5,1,&#39;RATECE-PLANICA ski station (Slovenia) \n A dying ski tourism destination under RCP 8.5&#39;)</pre>
</div>

</div>
</div>
<div class="jb_output_wrapper }}">
<div class="output_area">



<div class="output_png output_subarea ">
<img src="../images/c3s/artificial_snow_RCP8_5_Kranksja_61_1.png"
>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

 


    </main>
    
            </div>
            <div class="c-textbook__footer" id="textbook_footer">
              
<nav class="c-page__nav">
  
    
    

    <a id="js-page__nav__prev" class="c-page__nav__prev" href="/Norway_Sweden_training/c3s/alps.html">
      〈 <span class="u-margin-right-tiny"></span> The alps a dying ski tourism station
    </a>
  

  
    

    
    <a id="js-page__nav__next" class="c-page__nav__next" href="/Norway_Sweden_training/c3s/artificial_snow_cmpi6_ssp585_Kranksja.html">
      RATECE-PLANICA ski station (Sloven... <span class="u-margin-right-tiny"></span> 〉
    </a>
  
</nav>

              <footer>
  <p class="footer">This page was created by <a href="https://github.com/jupyter/jupyter-book/graphs/contributors">The Jupyter Book Community</a></p>
</footer>

            </div>

        </div>
      </main>
    </div>
  </body>
</html>
